<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VU Clock</title>
    <link rel="icon" href="attachment/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
    <!-- Early Lottie animation preload and cache - runs immediately -->
    <script>
        (function () {
            // Cache key for landing animation
            const LANDING_ANIMATION_CACHE_KEY = 'cse.landingAnimationData';
            const LANDING_ANIMATION_PATH = 'animation_file/loading.json';
            const CACHE_VERSION = '1'; // Increment to invalidate cache

            // Preload and cache landing animation JSON immediately
            function preloadLandingAnimation() {
                // Check if cached data exists
                try {
                    const cached = localStorage.getItem(LANDING_ANIMATION_CACHE_KEY);
                    const cachedVersion = localStorage.getItem(LANDING_ANIMATION_CACHE_KEY + '.version');
                    if (cached && cachedVersion === CACHE_VERSION) {
                        // Cache exists, store in global variable for instant access
                        window.__landingAnimationData = JSON.parse(cached);
                        return;
                    }
                } catch (e) {
                    // Cache invalid, fetch fresh
                }

                // Fetch and cache animation data
                fetch(LANDING_ANIMATION_PATH)
                    .then(response => {
                        if (!response.ok) return;
                        return response.json();
                    })
                    .then(animationData => {
                        if (animationData) {
                            try {
                                // Store in localStorage for next time
                                localStorage.setItem(LANDING_ANIMATION_CACHE_KEY, JSON.stringify(animationData));
                                localStorage.setItem(LANDING_ANIMATION_CACHE_KEY + '.version', CACHE_VERSION);
                                // Store in global variable for instant access
                                window.__landingAnimationData = animationData;
                            } catch (e) {
                                // localStorage full or blocked, just use in-memory
                                window.__landingAnimationData = animationData;
                            }
                        }
                    })
                    .catch(() => {
                        // Silently fail, will use path fallback
                    });
            }

            // Start preloading immediately
            preloadLandingAnimation();
        })();
    </script>
</head>

<body>
    <div id="app">
        <!-- Landing Screen Overlay -->
        <div id="landingOverlay" class="landing-overlay hidden">
            <div class="landing-overlay-backdrop">
                <div class="floating-particle particle-1"></div>
                <div class="floating-particle particle-2"></div>
                <div class="floating-particle particle-3"></div>
                <div class="floating-particle particle-4"></div>
                <div class="floating-particle particle-5"></div>
                <div class="floating-particle particle-6"></div>
                <div class="floating-particle particle-7"></div>
                <div class="floating-particle particle-8"></div>
                <div class="floating-particle particle-9"></div>
                <div class="floating-particle particle-10"></div>
                <div class="floating-particle particle-11"></div>
                <div class="floating-particle particle-12"></div>
                <div class="floating-particle particle-13"></div>
                <div class="floating-particle particle-14"></div>
                <div class="floating-particle particle-15"></div>
            </div>
            <section id="landing" class="screen landing-screen-content">
                <div class="landing-card card">
                    <div id="lottie" class="lottie"></div>
                    <h1 class="app-title">VU Class Routine</h1>
                    <div class="selectors">
                        <label class="field control">
                            <span>Department</span>
                            <select id="department" class="dropdown">
                                <option value="">Select Department</option>
                            </select>
                        </label>
                        <label class="field control">
                            <span>Semester</span>
                            <select id="semester" class="dropdown">
                                <option value="">Select Semester</option>
                                <option value="1-1">1st</option>
                                <option value="1-2">2nd</option>
                                <option value="2-1">3rd</option>
                                <option value="2-2">4th</option>
                                <option value="3-1">5th</option>
                                <option value="3-2">6th</option>
                                <option value="4-1">7th</option>
                                <option value="4-2">8th</option>
                            </select>
                        </label>
                        <label class="field control">
                            <span>Section</span>
                            <select id="section" class="dropdown" disabled>
                                <option value="">Select Section</option>
                            </select>
                        </label>
                    </div>
                    <button id="getSchedule" class="primary-btn">Get Schedule</button>
                    <p id="landingError" class="error-text" aria-live="polite"></p>
                </div>
            </section>
        </div>

        <!-- Global Student Loading Overlay (shown before student data fully loads) -->
        <div id="studentLoadingOverlay" class="student-loading-overlay">
            <div class="student-loading-backdrop"></div>
            <div class="student-loading-content">
                <div class="custom-loader">
                    <svg class="custom-loader-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="loaderGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#9E8CFF;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#6C6BFF;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#C5C6FF;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="loaderGradient2" x1="100%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#C5C6FF;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#9E8CFF;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#6C6BFF;stop-opacity:0.8" />
                            </linearGradient>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="3" result="coloredBlur" />
                                <feMerge>
                                    <feMergeNode in="coloredBlur" />
                                    <feMergeNode in="SourceGraphic" />
                                </feMerge>
                            </filter>
                        </defs>
                        <!-- Outer rotating arc - Gap Control: Change r="48" to adjust gap (current gap: 10px between circles) -->
                        <circle class="custom-loader-arc custom-loader-arc-outer" cx="60" cy="60" r="48" fill="none"
                            stroke="url(#loaderGradient1)" stroke-linecap="round" filter="url(#glow)" />
                        <!-- Middle rotating arc - Gap Control: Change r="38" to adjust gap -->
                        <circle class="custom-loader-arc custom-loader-arc-middle" cx="60" cy="60" r="38" fill="none"
                            stroke="url(#loaderGradient2)" stroke-linecap="round" />
                        <!-- Inner rotating arc - Gap Control: Change r="28" to adjust gap -->
                        <circle class="custom-loader-arc custom-loader-arc-inner" cx="60" cy="60" r="28" fill="none"
                            stroke="url(#loaderGradient1)" stroke-linecap="round" />
                    </svg>
                </div>
                <!-- <div class="student-loading-text">Loading your schedule...</div> -->
            </div>
        </div>

        <!-- Student Routine Screen -->
        <section id="student" class="screen hidden">
            <header class="main-header">
                <div class="header-content">
                    <img src="attachment/student_white.png" alt="Student" class="header-icon" id="headerIconStudent">
                    <div class="header-title">Student</div>
                </div>
            </header>

            <div class="selection-controls card">
                <div class="control">
                    <label>Department</label>
                    <select id="departmentDisplay" class="dropdown">
                        <option value="">Select Department</option>
                    </select>
                </div>
                <div class="control">
                    <label>Semester</label>
                    <select id="semesterDisplay"></select>
                </div>
                <div class="control">
                    <label>Section</label>
                    <select id="sectionDisplay" disabled></select>
                </div>
            </div>

            <div class="content">
                <div class="details card">
                    <div class="details-row">
                        <div>
                            <div class="muted">Semester</div>
                            <div id="detailsSemester" class="accent"></div>
                        </div>
                        <div>
                            <div class="muted">Section</div>
                            <div id="detailsSection" class="accent"></div>
                        </div>
                        <div>
                            <div class="muted">Total Courses</div>
                            <div id="detailsTotal" class="accent"></div>
                        </div>
                        <div>
                            <div class="muted">Routine Version</div>
                            <div id="detailsVersion" class="accent">Fall 2025 v1</div>
                        </div>
                        <div>
                            <div class="muted">CR</div>
                            <div id="detailsCR1" class="accent"></div>
                        </div>
                        <div>
                            <div class="muted">CR</div>
                            <div id="detailsCR2" class="accent"></div>
                        </div>
                    </div>
                </div>

                <div class="days scroller" id="dayScroller" role="tablist" aria-label="Days">
                    <!-- Days injected by JS -->
                </div>

                <div id="dateToday" class="date-today"></div>

                <div id="scheduleContainer" class="schedule">
                    <!-- Cards injected by JS -->
                </div>

                <div id="emptyMessage" class="empty hidden">
                    <div class="empty-title">No classes Today -- Take a break!</div>
                    <div id="emptyLottie" class="empty-lottie"></div>
                </div>
                <div id="networkMessage" class="empty hidden">Network error.</div>
            </div>
        </section>

        <!-- Teacher Routine Screen -->
        <section id="teacher" class="screen hidden">
            <header class="main-header">
                <div class="header-content">
                    <img src="attachment/id-card_white.png" alt="Teacher" class="header-icon" id="headerIconTeacher">
                    <div class="header-title">Teacher</div>
                </div>
            </header>

            <div class="selection-controls card">
                <div class="control teacher-search-wrapper">
                    <label>Teacher</label>
                    <div class="autocomplete-container">
                        <input type="text" id="teacherSearch" placeholder="Enter Teacher Initial: MRH"
                            autocomplete="off" spellcheck="false" />
                        <div id="teacherSuggestions" class="autocomplete-dropdown hidden"></div>
                    </div>
                </div>
                <div class="control teacher-department-wrapper">
                    <label>Department</label>
                    <select id="teacherDepartment">
                        <option value="">Select Department</option>
                    </select>
                </div>
            </div>

            <div class="content">
                <div class="details card">
                    <div class="details-row">
                        <div>
                            <div class="muted">Teacher</div>
                            <div id="teacherDetailsName" class="accent"></div>
                        </div>
                        <div>
                            <div class="muted">Batch</div>
                            <div id="teacherDetailsBatch" class="accent"></div>
                        </div>
                        <div>
                            <div class="muted">Total Course</div>
                            <div id="teacherDetailsTotal" class="accent"></div>
                        </div>
                        <div>
                            <div class="muted">Routine Version</div>
                            <div id="teacherDetailsVersion" class="accent">â€”</div>
                        </div>
                    </div>
                </div>

                <div>
                    <button id="teacherContactBtn" class="primary-btn small">Contact</button>
                </div>

                <div class="days scroller" id="teacherDayScroller" role="tablist" aria-label="Days">
                    <!-- Days injected by JS -->
                </div>

                <div id="teacherDateToday" class="date-today"></div>

                <div id="teacherLottie" class="teacher-lottie-container">
                    <div class="teacher-lottie-text">Search Your Initial!</div>
                </div>

                <div id="teacherScheduleContainer" class="schedule">
                    <!-- Cards injected by JS -->
                </div>

                <div id="teacherEmptyMessage" class="empty hidden">No classes scheduled for this day.</div>
                <div id="teacherNetworkMessage" class="empty hidden">Network error.</div>
            </div>


        </section>
        <section id="more" class="screen hidden">
            <header class="main-header">
                <div class="header-content">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <img src="attachment/application_white.png" alt="More" class="header-icon" id="headerIconMore">
                        <div class="header-title">More</div>
                    </div>
                </div>
            </header>

            <div class="content">
                <!-- Auth View (Shown when not logged in) -->
                <div id="authView">
                    <div class="auth-card card">
                        <!-- Login Form -->
                        <div id="loginContainer">
                            <h2 class="auth-title">Welcome Back</h2>
                            <p class="auth-subtitle">Login to access the features</p>
                            <form id="loginForm">
                                <div class="field">
                                    <span>Email</span>
                                    <input type="email" id="loginEmail" class="auth-input" required
                                        placeholder="Enter your email" spellcheck="false">
                                </div>
                                <div class="field">
                                    <span>Password</span>
                                    <div class="password-group">
                                        <input type="password" id="loginPassword" class="auth-input" required
                                            placeholder="Enter your password">
                                        <button type="button" class="password-toggle"
                                            onclick="togglePasswordVisibility('loginPassword', this)">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                                <circle cx="12" cy="12" r="3"></circle>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <div class="forgot-password-link" id="showForgotPassword">Forgot Password?</div>
                                <button type="submit" class="primary-btn"
                                    style="width: 100%; margin-top: 12px;">Login</button>
                                <div class="auth-message error" id="loginError"></div>
                                <div class="auth-message success" id="loginSuccess"></div>
                            </form>
                            <p class="auth-footer">Don't have an account? <span class="link" id="showSignup">Sign
                                    Up</span></p>
                        </div>

                        <!-- Signup Form -->
                        <div id="signupContainer" class="hidden">
                            <h2 class="auth-title">Create Account</h2>
                            <div class="toggle-container">
                                <div class="toggle-btn active" id="signupTypeStudent">Student</div>
                                <div class="toggle-btn" id="signupTypeTeacher">Teacher</div>
                            </div>

                            <form id="signupForm">
                                <!-- Dynamic Fields based on Type -->
                                <div id="signupFields">
                                    <!-- Student Fields Default -->
                                </div>
                                <div class="field">
                                    <span>Password</span>
                                    <div class="password-group">
                                        <input type="password" id="signupPassword" class="auth-input" required
                                            placeholder="Enter your password" spellcheck="false">
                                        <button type="button" class="password-toggle"
                                            onclick="togglePasswordVisibility('signupPassword', this)">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                                <circle cx="12" cy="12" r="3"></circle>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <div class="field">
                                    <span>Confirm Password</span>
                                    <div class="password-group">
                                        <input type="password" id="signupConfirmPassword" class="auth-input" required
                                            placeholder="Confirm your password" spellcheck="false">
                                        <button type="button" class="password-toggle"
                                            onclick="togglePasswordVisibility('signupConfirmPassword', this)">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                                <circle cx="12" cy="12" r="3"></circle>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <button type="submit" class="primary-btn" style="width: 100%; margin-top: 12px;">Sign
                                    Up</button>
                                <div class="auth-message error" id="signupError"></div>
                                <div class="auth-message success" id="signupSuccess"></div>
                            </form>
                            <p class="auth-footer">Already have an account? <span class="link"
                                    id="showLogin">Login</span></p>
                        </div>

                        <!-- Forgot Password Form -->
                        <div id="forgotPasswordContainer" class="hidden">
                            <h2 class="auth-title">Reset Password</h2>
                            <p class="auth-subtitle">Enter your email to receive a reset link</p>
                            <form id="forgotPasswordForm">
                                <div class="field">
                                    <span>Email</span>
                                    <input type="email" id="forgotPasswordEmail" class="auth-input" required
                                        placeholder="Enter your registered email">
                                </div>
                                <button type="submit" class="primary-btn" style="width: 100%; margin-top: 12px;">Send
                                    Reset Link</button>
                                <button type="button" class="auth-back-btn" id="backToLoginFromForgot">Back to
                                    Login</button>
                                <div class="auth-message error" id="forgotPasswordError"></div>
                                <div class="auth-message success" id="forgotPasswordSuccess"></div>
                            </form>
                        </div>

                        <!-- Public Access Links for Logged Out Users -->
                        <div class="public-links-container">
                            <p class="public-links-label">Quick Links</p>
                            <div class="public-links-buttons"
                                style="display: flex; justify-content: space-between; gap: 16px;">
                                <button class="public-link-btn" id="publicPrivacyBtn">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                                    </svg>
                                    Privacy
                                </button>
                                <button class="public-link-btn" id="publicSupportBtn">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path
                                            d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z">
                                        </path>
                                    </svg>
                                    Support
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Menu View (Shown when logged in) -->
                <div id="menuView" class="hidden">
                    <!-- User Info Card - Clickable to Edit Profile -->
                    <!-- User Info Card - Clickable to Edit Profile -->
                    <div class="card user-profile-card" id="userProfileCard" onclick="window.openProfileEditModal()">

                        <div class="user-profile-inner">
                            <!-- Avatar -->
                            <div class="user-avatar-large">
                                <span id="userInitials">U</span>
                            </div>

                            <!-- User Info -->
                            <div class="user-info-container">
                                <div class="user-name-row">
                                    <h3 id="userName" class="user-name-text">
                                        User Name</h3>
                                    <span id="userRole" class="badge user-role-badge">Student</span>
                                </div>
                                <div id="cardUserId" class="user-id-text">
                                    ID: <span class="user-id-number">--</span>
                                </div>
                            </div>

                            <!-- Edit Icon -->
                            <div class="user-edit-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="more-grid">
                        <!-- Lab Rat -->
                        <a href="lab_report.html" class="more-block more-block-clickable">
                            <div class="more-block-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9"></polyline>
                                </svg>
                            </div>
                            <div class="more-block-title">Lab Rat</div>
                        </a>

                        <!-- Slot Book - Now Active -->
                        <div class="more-block more-block-clickable" id="bookingMenuOption"
                            onclick="window.handleBookingClick()">
                            <div class="more-block-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                            </div>
                            <div class="more-block-title">Slot Book</div>
                        </div>

                        <!-- To Do - New Module -->
                        <div class="more-block more-block-clickable" id="todoMenuOption">
                            <div class="more-block-icon" style="color: #6C63FF;">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2">
                                    </path>
                                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                    <path d="m9 14 2 2 4-4"></path>
                                </svg>
                            </div>
                            <div class="more-block-title">To Do</div>
                        </div>

                        <!-- Schedio - Placeholder -->
                        <div class="more-block more-block-clickable" id="schedioMenuOption">
                            <div class="more-block-icon" style="color: #FF8F00;">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                                    <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                                    <path d="M2 2l7.586 7.586"></path>
                                    <circle cx="11" cy="11" r="2"></circle>
                                </svg>
                            </div>
                            <div class="more-block-title">Schedio</div>
                        </div>

                        <!-- Notice - Active -->
                        <div class="more-block more-block-clickable" id="noticeMenuOption">
                            <div class="more-block-icon" style="color: #FF6B6B;">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <line x1="12" y1="18" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                            </div>
                            <div class="more-block-title">Notice</div>
                        </div>

                        <!-- Settings - New -->
                        <div class="more-block more-block-clickable" id="settingsOption">
                            <div class="more-block-icon" style="color: #00C853;">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="3"></circle>
                                    <path
                                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1.6 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                                    </path>
                                </svg>
                            </div>
                            <div class="more-block-title">Settings</div>
                        </div>

                        <!-- Map - Coming Soon -->
                        <div class="more-block more-block-clickable more-block-disabled coming-soon-block">
                            <div class="more-block-badge">COMING SOON</div>
                            <div class="more-block-icon" style="color: #FF5252;">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon>
                                    <line x1="8" y1="2" x2="8" y2="18"></line>
                                    <line x1="16" y1="6" x2="16" y2="22"></line>
                                </svg>
                            </div>
                            <div class="more-block-title">Map</div>
                            <div class="more-block-subtitle"
                                style="font-size: 10px; color: var(--muted); margin-top: 2px;">VU Basement</div>
                        </div>

                        <!-- Chat - Coming Soon -->
                        <div class="more-block more-block-clickable more-block-disabled coming-soon-block">
                            <div class="more-block-badge">COMING SOON</div>
                            <div class="more-block-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                                    </path>
                                </svg>
                            </div>
                            <div class="more-block-title">Chat</div>
                        </div>

                        <!-- Privacy & Policy -->
                        <div class="more-block more-block-clickable" id="privacyOption">
                            <div class="more-block-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                                </svg>
                            </div>
                            <div class="more-block-title">Privacy & Policy</div>
                        </div>

                        <!-- Support - Now Active -->
                        <div class="more-block more-block-clickable" id="supportOption">
                            <div class="more-block-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z">
                                    </path>
                                </svg>
                            </div>
                            <div class="more-block-title">Support</div>
                        </div>
                    </div>

                    <!-- Information/About Block - Full Width Responsive -->
                    <div class="more-block more-block-clickable" id="informationOption">
                        <div class="information-block-inner">
                            <div class="more-block-icon information-block-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                            </div>
                            <div class="information-block-content">
                                <div class="more-block-title information-block-title">About</div>
                                <div class="information-block-subtitle">Learn more about the developers</div>
                            </div>
                            <svg class="information-block-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </div>
                    </div>

                    <!-- Professional Logout Button -->
                    <button id="logoutBtn">
                        <span class="logout-btn-content">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            Logout
                        </span>
                    </button>
                </div>

                <!-- Booking Requests / History For User (Inside Menu View or Modal) -->
                <!-- We'll handle this via JS to show a list or modal -->
            </div>
        </section>

        <!-- Booking Modal -->
        <!-- Dedicated Slot Booking Screen -->
        <section id="booking" class="screen hidden">
            <header class="main-header">
                <div class="header-content">
                    <button class="icon-btn" id="bookingBackBtn"
                        style="margin-right: 12px; background: none; border: none; color: white;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                    </button>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="header-title">Slot Booking</div>
                    </div>
                </div>
            </header>

            <div class="content">
                <!-- Top Menu Bar for Booking -->
                <div class="query-menu-bar" style="margin-bottom: 20px;">
                    <button class="query-menu-segment active" id="bookingTab" data-tab="booking-query">
                        <svg class="query-menu-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        <span>Slot Book</span>
                    </button>
                    <button class="query-menu-segment" id="historyTab" data-tab="booking-history">
                        <svg class="query-menu-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path d="M12 20v-6M6 20V10M18 20V4"></path>
                        </svg>
                        <span>History</span>
                    </button>
                </div>

                <!-- Booking Interface -->
                <div id="bookingInterface">
                    <!-- Request Booking Query Card (Replaces manual input) -->
                    <!-- Request Booking Query Card (Replaces manual input) -->
                    <div class="card" style="padding: 24px;">
                        <h3 style="margin-bottom: 20px; font-weight: 600; color: var(--accent);">Find Available Slot
                        </h3>

                        <label class="field control">
                            <span>Department</span>
                            <select id="bookingQueryDepartment" class="dropdown">
                                <!-- Populated dynamically -->
                                <option value="EEE" selected>EEE</option>
                            </select>
                        </label>

                        <div class="control">
                            <label>Search By</label>
                            <select id="bookingQuerySearchBy" class="dropdown">
                                <option value="room">Room Number</option>
                                <option value="timeslot">Time Slot</option>
                            </select>
                        </div>

                        <div class="control">
                            <label id="bookingQueryThirdLabel">Room Number</label>
                            <select id="bookingQueryThirdSelect" class="dropdown" disabled>
                                <option value="">Select Room</option>
                            </select>
                        </div>

                        <!-- Day Selection for Query -->
                        <div class="control">
                            <label>Day</label>
                            <select id="bookingQueryDay" class="dropdown">
                                <!-- Populated by JS -->
                            </select>
                        </div>

                        <button id="bookingQuerySearchBtn" class="primary-btn"
                            style="width: 100%; margin-top: 16px;">Search
                            Available Slots</button>

                        <!-- Results Container -->
                        <div id="bookingQueryResults" style="margin-top: 24px;"></div>
                    </div>
                </div>

                <!-- Booking Confirmation Popup (Hidden by default) -->
                <div id="bookingConfirmPopup" class="popup-overlay hidden">
                    <div class="popup-content">
                        <div class="popup-header">
                            <h3 class="popup-title">Confirm Booking Request</h3>
                            <button class="popup-close" id="bookingConfirmClose">&times;</button>
                        </div>
                        <div class="popup-body">
                            <div id="bookingConfirmDetails" class="booking-confirm-details-container">
                                <!-- Details injected by JS -->
                            </div>

                            <form id="bookingConfirmForm">
                                <div class="field">
                                    <span>Date</span>
                                    <select id="bookingConfirmDate" class="dropdown auth-input" required>
                                        <!-- Dates injected by JS -->
                                    </select>
                                </div>
                                <div class="field">
                                    <span>Reason</span>
                                    <input type="text" id="bookingConfirmReason" placeholder="Class / Exam / Extra"
                                        required class="auth-input">
                                </div>
                                <input type="hidden" id="bookingConfirmRoom">
                                <input type="hidden" id="bookingConfirmTime">

                                <button type="submit" class="primary-btn" style="width: 100%; margin-top: 16px;">Send
                                    Request</button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Booking History Card -->
                <div id="historyInterface" class="hidden">
                    <div class="card history-section-container">
                        <h3 class="history-title">My History</h3>
                        <div id="bookingHistoryContainer">
                            <!-- History items injected here -->
                        </div>
                    </div>
                </div>

                <!-- Spacer for bottom tabbar -->
                <div class="bottom-spacer"></div>
        </section>

        <!-- ========================================
             NOTICE SECTION
             ======================================== -->
        <section id="notice" class="screen hidden">
            <header class="main-header">
                <div class="header-content">
                    <button class="icon-btn" id="noticeBackBtn"
                        style="margin-right: 12px; background: none; border: none; color: white;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                    </button>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="header-title">Notices</div>
                    </div>
                </div>
            </header>

            <div class="content">
                <!-- Filter Bar -->
                <div class="notice-filter-bar card">
                    <div class="notice-filter-tabs">
                        <button class="notice-filter-tab active" data-filter="all">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                            </svg>
                            <span>All</span>
                            <span class="notice-count" id="countAll">0</span>
                        </button>
                        <button class="notice-filter-tab" data-filter="unread">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                <line x1="12" y1="12" x2="12" y2="16"></line>
                            </svg>
                            <span>Unread</span>
                            <span class="notice-count" id="countUnread">0</span>
                        </button>
                        <button class="notice-filter-tab" data-filter="read">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                            <span>Read</span>
                            <span class="notice-count" id="countRead">0</span>
                        </button>
                    </div>
                    <button class="notice-mark-all-read" id="markAllReadBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                        Mark All Read
                    </button>
                </div>

                <!-- Notices List -->
                <div id="noticesList" class="notices-list">
                    <!-- Notices will be injected here by JS -->
                </div>

                <!-- Empty State -->
                <div id="noticesEmpty" class="notices-empty hidden">
                    <div class="empty-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="1.5">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="12" y1="18" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                    </div>
                    <div class="empty-title">No Notices Found</div>
                    <div class="empty-subtitle">There are no notices available at the moment</div>
                </div>

                <!-- Loading State -->
                <div id="noticesLoading" class="notices-loading">
                    <div class="custom-loader">
                        <svg class="custom-loader-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="loaderGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#9E8CFF;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#6C6BFF;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#C5C6FF;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <circle class="custom-loader-arc custom-loader-arc-outer" cx="60" cy="60" r="48" fill="none"
                                stroke="url(#loaderGradient1)" stroke-linecap="round" />
                        </svg>
                    </div>
                </div>

                <!-- Spacer for bottom tabbar -->
                <div class="bottom-spacer"></div>
            </div>
        </section>

        <!-- Notice Detail Modal -->
        <div id="noticeDetailModal" class="notice-modal hidden">
            <div class="notice-modal-overlay"></div>
            <div class="notice-modal-content">
                <div class="notice-modal-header">
                    <h3 id="noticeDetailTitle" class="notice-modal-title"></h3>
                    <button class="notice-modal-close" id="noticeDetailClose">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="notice-modal-body" style="max-height: 70vh; overflow-y: auto; padding-top: 10px;">
                    <style>
                        .notice-modal-body::-webkit-scrollbar {
                            width: 6px;
                        }

                        .notice-modal-body::-webkit-scrollbar-track {
                            background: transparent;
                        }

                        .notice-modal-body::-webkit-scrollbar-thumb {
                            background-color: var(--outline);
                            border-radius: 10px;
                        }

                        .notice-modal-body::-webkit-scrollbar-thumb:hover {
                            background-color: var(--muted);
                        }
                    </style>
                    <div class="notice-detail-meta" style="margin-bottom: 15px;">
                        <div class="notice-detail-meta-item">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <span id="noticeDetailDate" style="font-size: 12px; color: var(--muted);"></span>
                        </div>
                    </div>
                    <div class="notice-detail-content" id="noticeDetailContent"></div>
                    <div class="notice-detail-attachments hidden" id="noticeDetailAttachments">
                        <div class="notice-detail-attachments-title">Attachments</div>
                        <div id="noticeDetailAttachmentsList"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Edit Modal -->
        <div id="profileModal" class="popup-overlay hidden">
            <div class="popup-content">
                <div class="popup-header">
                    <h3 class="popup-title">Edit Profile</h3>
                    <button class="popup-close" id="profileModalClose">&times;</button>
                </div>
                <div class="popup-body">
                    <form id="profileForm">
                        <div class="field">
                            <span>Name</span>
                            <input type="text" id="profileName" required class="auth-input">
                        </div>
                        <!-- Other fields based on role -->
                        <div class="field">
                            <span>Password (Leave blank to keep current)</span>
                            <input type="password" id="profilePassword" class="auth-input" placeholder="New Password">
                        </div>
                        <button type="submit" class="primary-btn" style="width: 100%; margin-top: 16px;">Update
                            Profile</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Privacy Policy Screen -->
        <section id="privacy" class="screen hidden">
            <header class="main-header">
                <div class="header-content information-header-content">
                    <button class="icon-btn information-back-btn" id="privacyBackBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                    </button>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="header-title">Privacy & Policy</div>
                    </div>
                </div>
            </header>

            <div class="content screen-narrow-content">
                <!-- Header Section -->
                <div class="card icon-header-card icon-header-card-bg">
                    <div class="icon-circle-large">
                        <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        </svg>
                    </div>
                    <h2 class="page-title-large">Privacy Policy</h2>
                    <p class="page-description">
                        Your privacy is important to us. This policy outlines how we collect, use, and protect your
                        information.
                    </p>
                    <div class="page-meta-text">
                        Last Updated: January 10, 2026
                    </div>
                </div>

                <!-- Policy Sections -->
                <div class="card content-section-card">
                    <div class="policy-header-row">
                        <div class="icon-box-medium icon-box-blue">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                        </div>
                        <h3 class="section-title">1. Information We Collect</h3>
                    </div>
                    <p class="text-paragraph">
                        We collect basic information including your name, student/teacher ID, email address, department,
                        semester, and section details. This information is necessary to provide you with personalized
                        class schedules and booking services.
                    </p>
                </div>

                <div class="card content-section-card">
                    <div class="policy-header-row">
                        <div class="icon-box-medium icon-box-green">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </div>
                        <h3 class="section-title">2. How We Use Your Data</h3>
                    </div>
                    <p class="text-paragraph">Your information is used exclusively for:</p>
                    <ul class="bullet-list">
                        <li>Displaying personalized class schedules and routines</li>
                        <li>Managing classroom booking requests</li>
                        <li>Providing teacher contact information</li>
                        <li>Sending important notifications about schedule changes</li>
                        <li>Improving our services and user experience</li>
                    </ul>
                </div>

                <div class="card content-section-card">
                    <div class="policy-header-row">
                        <div class="icon-box-medium icon-box-purple">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                        </div>
                        <h3 class="section-title">3. Data Security</h3>
                    </div>
                    <p class="text-paragraph">
                        We implement industry-standard security measures to protect your personal information. Your data
                        is stored securely using Firebase's encrypted database services. We use secure authentication
                        protocols and regularly update our security practices to ensure your information remains safe.
                    </p>
                </div>

                <div class="card content-section-card">
                    <div class="policy-header-row">
                        <div class="icon-box-medium icon-box-yellow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M12 2v20M2 12h20"></path>
                            </svg>
                        </div>
                        <h3 class="section-title">4. Data Sharing</h3>
                    </div>
                    <p class="text-paragraph">
                        We do not sell, trade, or transfer your personal information to third parties. Your data is only
                        shared within the university system for academic purposes. Teacher contact information is made
                        available to students for educational communication only.
                    </p>
                </div>

                <div class="card content-section-card">
                    <div class="policy-header-row">
                        <div class="icon-box-medium icon-box-red">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="8" x2="12" y2="12"></line>
                                <line x1="12" y1="16" x2="12.01" y2="16"></line>
                            </svg>
                        </div>
                        <h3 class="section-title">5. Cookies & Local Storage</h3>
                    </div>
                    <p class="text-paragraph">
                        We use browser local storage to save your preferences, such as selected department, semester,
                        and section. This helps provide a seamless experience when you return to the app. You can clear
                        this data anytime through your browser settings.
                    </p>
                </div>

                <div class="card content-section-card">
                    <div class="policy-header-row">
                        <div class="icon-box-medium icon-box-dark">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="8.5" cy="7" r="4"></circle>
                                <polyline points="17 11 19 13 23 9"></polyline>
                            </svg>
                        </div>
                        <h3 class="section-title">6. Your Rights</h3>
                    </div>
                    <p class="text-paragraph">You have the right to:</p>
                    <ul class="bullet-list">
                        <li>Access your personal data stored in our system</li>
                        <li>Request correction of inaccurate information</li>
                        <li>Request deletion of your account and associated data</li>
                        <li>Opt-out of non-essential communications</li>
                        <li>Export your data in a readable format</li>
                    </ul>
                </div>

                <div class="card content-section-card">
                    <div class="policy-header-row">
                        <div class="icon-box-medium icon-box-blue">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2z">
                                </path>
                                <path d="M12 8v4l3 3"></path>
                            </svg>
                        </div>
                        <h3 class="section-title">7. Third-Party Services</h3>
                    </div>
                    <p class="text-paragraph">
                        We use trusted third-party services to ensure the app functions correctly:
                    </p>
                    <ul class="bullet-list">
                        <li><b>Firebase (Google):</b> For secure authentication, real-time database, and hosting.</li>
                        <li><b>Web3Forms:</b> For processing support tickets and feedback securely without storing your
                            email on unauthorized servers.</li>
                    </ul>
                </div>

                <div class="card content-section-card">
                    <div class="policy-header-row">
                        <div class="icon-box-medium icon-box-green">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                        </div>
                        <h3 class="section-title">8. Changes to This Policy</h3>
                    </div>
                    <p class="text-paragraph">
                        We may update our Privacy Policy from time to time. We will notify you of any changes by posting
                        the new Privacy Policy on this page. You are advised to review this page periodically for any
                        changes.
                    </p>
                </div>

                <!-- Contact Section -->
                <div class="card contact-card">
                    <div style="text-align: center;">
                        <h3 class="page-subtitle-centered" style="font-size: 16px;">Questions About Privacy?</h3>
                        <p class="page-description-centered">
                            If you have any questions or concerns about our privacy policy, please contact us.
                        </p>
                        <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                            <a href="mailto:vuclock.app@gmail.com" class="contact-action-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path
                                        d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                    </path>
                                    <polyline points="22,6 12,13 2,6"></polyline>
                                </svg>
                                Email Us
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Support Screen -->
        <section id="support" class="screen hidden">
            <header class="main-header">
                <div class="header-content information-header-content">
                    <button class="icon-btn information-back-btn" id="supportBackBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                    </button>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="header-title">Support</div>
                    </div>
                </div>
            </header>

            <div class="content screen-narrow-content-small">
                <div class="card icon-header-card-tight">
                    <div class="icon-circle-medium">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z">
                            </path>
                        </svg>
                    </div>
                    <h3 class="page-subtitle-centered">Contact Support</h3>
                    <p class="page-description-centered">
                        Have questions or facing issues? Reach out to us directly or fill the form below.
                    </p>

                    <div class="contact-info-block">
                        <h4 class="contact-info-title">Email Us</h4>
                        <div class="contact-info-value">vuclock.app@gmail.com</div>
                    </div>

                    <div style="margin-bottom: 10px; display: none;">
                        <h4 class="contact-info-title">Call Us</h4>
                        <div class="contact-info-value">+880 1XXX-XXXXXX</div>
                    </div>
                </div>

                <div class="card" style="padding: 24px;">
                    <h3 style="margin-bottom: 24px; font-weight: 600; color: var(--text);">Send Message</h3>
                    <form id="supportForm">
                        <!-- Type Toggle -->
                        <div class="field">
                            <span>Message Type</span>
                            <div class="toggle-container" style="margin-bottom: 16px;">
                                <div class="toggle-btn active" id="supportTypeBug">Report</div>
                                <div class="toggle-btn" id="supportTypeReview">Review</div>
                            </div>
                        </div>
                        <input type="hidden" id="supportTypeInput" value="bug_report">



                        <div class="field" id="supportSubjectField">
                            <span id="supportSubjectLabel">Subject</span>
                            <input type="text" id="supportSubject" class="auth-input"
                                placeholder="Brief summary of the issue">
                        </div>

                        <div class="field" id="supportRatingField" style="display: none;">
                            <span>Your Rating</span>
                            <div class="star-rating"
                                style="display: flex; gap: 16px; justify-content: center; margin: 4px 0;">
                                <span class="star" data-value="1" style="font-size: 30px;">â˜…</span>
                                <span class="star" data-value="2" style="font-size: 30px;">â˜…</span>
                                <span class="star" data-value="3" style="font-size: 30px;">â˜…</span>
                                <span class="star" data-value="4" style="font-size: 30px;">â˜…</span>
                                <span class="star" data-value="5" style="font-size: 30px;">â˜…</span>
                            </div>
                            <input type="hidden" id="supportRatingValue" value="0">
                        </div>
                        <div class="field">
                            <span id="supportMessageLabel">Description</span>
                            <textarea id="supportMessage" class="auth-input" rows="5"
                                placeholder="Describe the bug or issue in detail..." required
                                style="max-width: 100%; resize: vertical; min-height: 120px;"></textarea>
                        </div>
                        <button type="submit" id="supportSubmitBtn" class="primary-btn full-width-submit-btn"
                            style="width: 100%; margin-top: 20px;">Send Report</button>
                        <div id="supportStatusMessage"
                            style="text-align: center; margin-top: 15px; font-size: 14px; font-weight: 500; min-height: 20px;">
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Information/About Screen -->
        <section id="information" class="screen hidden">
            <header class="main-header">
                <div class="header-content information-header-content">
                    <button class="icon-btn information-back-btn" id="informationBackBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                    </button>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="header-title">About</div>
                    </div>
                </div>
            </header>

            <div class="content information-content">
                <!-- Header Section -->
                <div class="card about-app-card">
                    <div class="about-app-icon-container">
                        <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                    </div>
                    <h2 class="about-app-title">About This App</h2>
                    <p class="about-app-description">
                        VU Class Routine is designed and developed by passionate students to make academic life easier.
                    </p>
                    <div class="about-app-version">
                        <span id="aboutPageVersionDisplay">Version 1.0</span> | Copyright Â© 2026
                    </div>
                </div>

                <!-- Developers Section -->
                <h3 class="developers-title">Meet the Developers</h3>

                <!-- Developer Cards Grid -->
                <div class="developers-grid">
                    <!-- Developer 1 Card - Glass Morphism -->
                    <div class="developer-card developer-card-glass">
                        <!-- Glass effect overlay -->
                        <div class="developer-glass-overlay"></div>

                        <!-- Avatar -->
                        <div class="developer-header">
                            <img src="devoloper_image/mdriad.png" alt="Md. Riad"
                                class="developer-avatar-img developer-avatar-riad">
                            <div class="developer-info-container">
                                <h4 class="developer-name">Md. Riad</h4>
                                <p class="developer-role">Developer</p>
                            </div>
                        </div>

                        <!-- Info -->
                        <div class="developer-details">
                            <div class="developer-detail-row">
                                <svg class="developer-detail-icon" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                <span class="developer-detail-label">Student ID: <span
                                        class="developer-detail-value">252321015</span></span>
                            </div>
                            <div class="developer-detail-row">
                                <svg class="developer-detail-icon" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2">
                                    <path
                                        d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                    </path>
                                    <polyline points="22,6 12,13 2,6"></polyline>
                                </svg>
                                <span class="developer-detail-label">Email: <span
                                        class="developer-detail-value">mdriad.eee@gmail.com</span></span>
                            </div>
                            <div class="developer-detail-row">
                                <svg class="developer-detail-icon" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                                </svg>
                                <span class="developer-detail-label">Department: <span
                                        class="developer-detail-value">EEE</span></span>
                            </div>
                        </div>

                        <!-- Social Links -->
                        <div class="developer-social-container">
                            <a href="https://github.com/mdriad40" class="social-link-btn">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                                </svg>
                                GitHub
                            </a>
                            <a href="https://www.linkedin.com/in/md-riad-hasan-3237753a8" class="social-link-btn">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                                </svg>
                                LinkedIn
                            </a>
                        </div>
                    </div>

                    <!-- Developer 2 Card - Glass Morphism -->
                    <div class="developer-card developer-card-glass developer-card-glass-alt">
                        <!-- Glass effect overlay -->
                        <div class="developer-glass-overlay developer-glass-overlay-alt"></div>

                        <!-- Avatar -->
                        <div class="developer-header">
                            <img src="devoloper_image/uhmim.png" alt="Umme Habiba"
                                class="developer-avatar-img developer-avatar-img-alt developer-avatar-mim">
                            <div class="developer-info-container">
                                <h4 class="developer-name">Umme Habiba</h4>
                                <p class="developer-role">Designer</p>
                            </div>
                        </div>

                        <!-- Info -->
                        <div class="developer-details">
                            <div class="developer-detail-row">
                                <svg class="developer-detail-icon" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                <span class="developer-detail-label">Student ID: <span
                                        class="developer-detail-value">252311118</span></span>
                            </div>
                            <div class="developer-detail-row">
                                <svg class="developer-detail-icon" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2">
                                    <path
                                        d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                    </path>
                                    <polyline points="22,6 12,13 2,6"></polyline>
                                </svg>
                                <span class="developer-detail-label">Email: <span
                                        class="developer-detail-value">uhmim.cse@gmail.com</span></span>
                            </div>
                            <div class="developer-detail-row">
                                <svg class="developer-detail-icon" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                                </svg>
                                <span class="developer-detail-label">Department: <span
                                        class="developer-detail-value">CSE</span></span>
                            </div>
                        </div>

                        <!-- Social Links -->
                        <div class="developer-social-container">
                            <a href="https://github.com/habiba40" class="social-link-btn social-link-btn-alt">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                                </svg>
                                GitHub
                            </a>
                            <a href="https://www.linkedin.com/in/umme-habiba-mim-a915663a8"
                                class="social-link-btn social-link-btn-alt">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                                </svg>
                                LinkedIn
                            </a>
                        </div>
                    </div>
                </div>

                <!-- App Info -->
                <div class="card"
                    style="padding: 20px; background: linear-gradient(135deg, rgba(46, 204, 113, 0.05), rgba(52, 152, 219, 0.03)); border: 1px solid rgba(52, 152, 219, 0.2);">
                    <h4
                        style="margin: 0 0 12px 0; font-size: 15px; font-weight: 600; color: var(--text); display: flex; align-items: center; gap: 8px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" style="color: #3498db;">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                        About This Project
                    </h4>
                    <p style="margin: 0; font-size: 13px; line-height: 1.7; color: var(--muted);">
                        <b>VU Class Routine</b> is a comprehensive digital companion designed exclusively for Varendra
                        University students and faculty. This platform simplifies academic life by providing instant
                        access to dynamic class schedules, real-time teacher availability, and essential department
                        notices.
                        <br><br>
                        Beyond just a routine viewer, it features a smart <b>Room Query</b> system for finding free
                        slots, a dedicated <b>Teacher Portal</b>, and a robust communication channel through notices.
                        Built with passion using modern web technologies and Firebase, our goal is to eliminate
                        scheduling conflicts and keep the campus connected efficiently.
                    </p>

                    <div
                        style="margin-top: 16px; padding-top: 12px; border-top: 1px dashed rgba(52, 152, 219, 0.3); font-size: 11px; color: var(--muted);">
                        <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 4px;">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" style="opacity:0.7">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                            <span>Design Concept: <b>VU Routine</b></span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" style="opacity:0.7">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                            </svg>
                            <span>UI/UX Prototyping: <b>Figma</b></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="query" class="screen hidden">
            <header class="main-header">
                <div class="header-content">
                    <img src="attachment/search-file_white.png" alt="Query" class="header-icon" id="headerIconQuery">
                    <div class="header-title">Query</div>
                </div>
            </header>
            <!-- Top Menu Bar -->
            <div class="query-menu-bar">
                <button class="query-menu-segment active" id="roomQueryTab" data-tab="room-query">
                    <svg class="query-menu-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    <span>Room Query</span>
                </button>
                <button class="query-menu-segment" id="crInfoTab" data-tab="cr-info">
                    <svg class="query-menu-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    <span>CR Info</span>
                </button>
            </div>

            <!-- Room Query Interface -->
            <div id="roomQueryInterface" class="query-interface">
                <div class="selection-controls card room-query-selection">
                    <div class="control">
                        <label>Department</label>
                        <select id="roomQueryDepartment">
                            <option value="">Select Department</option>
                        </select>
                    </div>
                    <div class="control">
                        <label>Search By</label>
                        <select id="roomQuerySearchBy">
                            <option value="">Select Option</option>
                            <option value="room">Room No</option>
                            <option value="timeslot">Time Slot</option>
                        </select>
                    </div>
                    <div class="control" id="roomQueryThirdControl">
                        <label id="roomQueryThirdLabel">Select Option</label>
                        <select id="roomQueryThirdSelect" disabled>
                            <option value="">Search By</option>
                        </select>
                    </div>
                </div>
                <div id="roomQueryDaySelectorWrapper" class="hidden">
                    <div id="roomQueryDayTitle" class="room-query-day-title"></div>
                    <div class="days scroller" id="roomQueryDayScroller" role="tablist" aria-label="Days">
                        <!-- Days injected by JS -->
                    </div>
                    <div id="roomQueryDateToday" class="date-today"></div>
                </div>
                <div class="query-lottie-wrapper room-query-lottie-wrapper">
                    <div id="roomQueryLottie" class="query-lottie room-query-lottie"></div>
                </div>
                <div id="roomQueryResults" class="query-results"></div>
            </div>

            <!-- CR Info Interface -->
            <div id="crInfoInterface" class="query-interface hidden">
                <div class="selection-controls card">
                    <div class="control">
                        <label>Department</label>
                        <select id="crInfoDepartment">
                            <option value="">Select Department</option>
                        </select>
                    </div>
                    <div class="control">
                        <label>Semester</label>
                        <select id="crInfoSemester">
                            <option value="">Select Semester</option>
                            <option value="1-1">1st</option>
                            <option value="1-2">2nd</option>
                            <option value="2-1">3rd</option>
                            <option value="2-2">4th</option>
                            <option value="3-1">5th</option>
                            <option value="3-2">6th</option>
                            <option value="4-1">7th</option>
                            <option value="4-2">8th</option>
                        </select>
                    </div>
                    <div class="control">
                        <label>Section</label>
                        <select id="crInfoSection" disabled>
                            <option value="">Select Section</option>
                        </select>
                    </div>
                </div>
                <div class="query-lottie-wrapper cr-query-lottie-wrapper">
                    <div id="crInfoLottie" class="query-lottie cr-query-lottie"></div>
                </div>
                <div id="crInfoResults" class="cr-info-results"></div>
            </div>
        </section>

        <!-- Profile Edit Modal -->
        <div id="profileEditModal" class="popup-overlay hidden">
            <div class="popup-content" style="max-width: 500px;">
                <div class="popup-header">
                    <h3 class="popup-title">My Profile</h3>
                    <button class="popup-close" id="profileEditClose">&times;</button>
                </div>
                <div class="popup-body" style="padding: 24px;">
                    <!-- Profile Header -->
                    <div style="text-align: center; margin-bottom: 24px;">
                        <div class="user-avatar-large"
                            style="margin: 0 auto 12px; width: 80px; height: 80px; font-size: 32px;">
                            <span id="editUserInitials">U</span>
                        </div>
                        <div style="font-size: 12px; color: var(--muted);">You can only edit your name</div>
                    </div>

                    <form id="profileEditForm">
                        <!-- Editable Name Field -->
                        <div class="field" style="margin-bottom: 20px;">
                            <span style="font-weight: 600; color: var(--accent);">Full Name (Editable)</span>
                            <input type="text" id="editName" class="auth-input" required
                                placeholder="Enter your full name" style="border: 2px solid var(--accent);">
                        </div>

                        <!-- Read-only Account Information -->
                        <div
                            style="background: var(--card); border: 1px solid var(--outline); border-radius: 12px; padding: 16px; margin-bottom: 16px;">
                            <h4
                                style="margin: 0 0 16px 0; font-size: 14px; font-weight: 600; color: var(--text); border-bottom: 1px solid var(--outline); padding-bottom: 8px;">
                                Account Information
                            </h4>

                            <div style="display: grid; gap: 12px;">
                                <div>
                                    <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Email Address
                                    </div>
                                    <div id="editEmail" style="font-size: 14px; color: var(--text); font-weight: 500;">-
                                    </div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Mobile Number
                                    </div>
                                    <div id="editPhone" style="font-size: 14px; color: var(--text); font-weight: 500;">-
                                    </div>
                                </div>

                                <div>
                                    <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Role</div>
                                    <div id="editRole"
                                        style="font-size: 14px; color: var(--text); font-weight: 500; text-transform: capitalize;">
                                        -</div>
                                </div>
                            </div>
                        </div>

                        <!-- Student-specific info -->
                        <div id="studentEditFields" class="hidden"
                            style="background: var(--card); border: 1px solid var(--outline); border-radius: 12px; padding: 16px; margin-bottom: 16px;">
                            <h4
                                style="margin: 0 0 16px 0; font-size: 14px; font-weight: 600; color: var(--text); border-bottom: 1px solid var(--outline); padding-bottom: 8px;">
                                Student Details
                            </h4>

                            <div style="display: grid; gap: 16px;">
                                <!-- Row 1: Student ID and Department -->
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                    <div>
                                        <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Student
                                            ID</div>
                                        <div id="editStudentId"
                                            style="font-size: 14px; color: var(--text); font-weight: 500;">-</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">
                                            Department</div>
                                        <div id="editDepartment"
                                            style="font-size: 14px; color: var(--text); font-weight: 500;">-</div>
                                    </div>
                                </div>

                                <!-- Row 2: Semester and Section -->
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                    <div>
                                        <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Semester
                                        </div>
                                        <div id="editSemester"
                                            style="font-size: 14px; color: var(--text); font-weight: 500;">-</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Section
                                        </div>
                                        <div id="editSection"
                                            style="font-size: 14px; color: var(--text); font-weight: 500;">-</div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Teacher-specific info -->
                        <div id="teacherEditFields" class="hidden"
                            style="background: var(--card); border: 1px solid var(--outline); border-radius: 12px; padding: 16px; margin-bottom: 16px;">
                            <h4
                                style="margin: 0 0 16px 0; font-size: 14px; font-weight: 600; color: var(--text); border-bottom: 1px solid var(--outline); padding-bottom: 8px;">
                                Teacher Details
                            </h4>

                            <div style="display: grid; gap: 12px;">
                                <div>
                                    <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Teacher ID
                                    </div>
                                    <div id="editTeacherId"
                                        style="font-size: 14px; color: var(--text); font-weight: 500;">-</div>
                                </div>

                                <div>
                                    <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Department
                                    </div>
                                    <div id="editTeacherDepartment"
                                        style="font-size: 14px; color: var(--text); font-weight: 500;">-</div>
                                </div>

                                <div>
                                    <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Short Form
                                        (Initials)</div>
                                    <div id="editShortForm"
                                        style="font-size: 14px; color: var(--text); font-weight: 500; text-transform: uppercase;">
                                        -</div>
                                </div>

                                <div>
                                    <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Designation
                                    </div>
                                    <div id="editDesignation"
                                        style="font-size: 14px; color: var(--text); font-weight: 500;">-</div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div style="display: flex; gap: 12px; margin-top: 20px; justify-content: flex-end;">
                            <button type="button" class="primary-btn" id="cancelEditBtn"
                                style="flex: 1; background: var(--outline); color: var(--text); padding: 10px 16px; font-size: 13px; height: auto;">
                                Cancel
                            </button>
                            <button type="submit" class="primary-btn"
                                style="flex: 1; padding: 10px 16px; font-size: 13px; height: auto;">
                                Save
                            </button>
                        </div>

                        <div id="profileEditMessage"
                            style="margin-top: 16px; padding: 12px; border-radius: 8px; font-size: 13px; text-align: center; display: none;">
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="tabbar" role="navigation" aria-label="Bottom Navigation">
            <button class="tab active" data-tab="student" aria-label="Student">
                <span class="tab-icon"><img src="attachment/student.png" alt="Student" class="tab-icon-img"
                        id="student-icon"></span>
                <span class="tab-label">Student</span>
            </button>
            <button class="tab" data-tab="teacher" aria-label="Teacher">
                <span class="tab-icon"><img src="attachment/id-card (1).png" alt="Teacher" class="tab-icon-img"
                        id="teacher-icon"></span>
                <span class="tab-label">Teacher</span>
            </button>
            <button class="tab" data-tab="query" aria-label="Query">
                <span class="tab-icon"><img src="attachment/history (1).png" alt="Query" class="tab-icon-img"
                        id="query-icon"></span>
                <span class="tab-label">Query</span>
            </button>
            <button class="tab" data-tab="more" aria-label="More">
                <span class="tab-icon"><img src="attachment/application (1).png" alt="More" class="tab-icon-img"
                        id="more-icon"></span>
                <span class="tab-label">More</span>
            </button>
        </nav>

        <!-- To Do Screen -->
        <section id="todo" class="screen hidden">
            <header class="main-header">
                <div class="header-content information-header-content">
                    <button class="icon-btn information-back-btn" id="todoBackBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                    </button>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="header-title">To Do</div>
                    </div>
                </div>
            </header>

            <div class="content screen-narrow-content-small">
                <!-- User Greeting with New Task Button -->
                <div
                    style="margin-bottom: 8px; padding: 0 4px; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 18px; font-weight: 700; color: var(--text);">Hello <span
                                id="todoUserName">User</span>,</div>
                        <div style="font-size: 13px; color: var(--muted); margin-top: 2px;">You have work today!</div>
                    </div>
                    <button id="btnOpenAddTask" type="button" class="todo-btn small"
                        style="display: flex; align-items: center; gap: 6px; padding: 12px 12px; font-size: 12px;">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        New Task
                    </button>
                </div>

                <!-- Stats Grid -->
                <div class="todo-stats-grid">
                    <div class="todo-stat-card bg-blue" onclick="window.filterTodo('today')">
                        <div class="stat-icon-circle">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-label">Today</div>
                            <div class="stat-value" id="statTodayCount">0</div>
                        </div>
                    </div>
                    <div class="todo-stat-card bg-yellow" onclick="window.filterTodo('overview')">
                        <div class="stat-icon-circle">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-label">Overview</div>
                            <div class="stat-value" id="statOverviewCount">0%</div>
                        </div>
                    </div>
                    <div class="todo-stat-card bg-green" onclick="window.filterTodo('all')">
                        <div class="stat-icon-circle">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-label">All</div>
                            <div class="stat-value" id="statAllCount">0</div>
                        </div>
                    </div>
                    <div class="todo-stat-card bg-red" onclick="window.filterTodo('overdue')">
                        <div class="stat-icon-circle">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-label">Overdue</div>
                            <div class="stat-value" id="statOverdueCount">0</div>
                        </div>
                    </div>
                </div>

                <!-- Task Sections -->
                <div class="todo-section-header">
                    <h3 id="todoListTitle" style="font-size: 16px; margin: 16px 0 8px 0;">Today's Task</h3>
                </div>

                <div id="todoListItems" class="todo-list">
                    <!-- Tasks injected via JS -->
                    <div class="empty-state" style="text-align:center; padding: 40px; color: var(--muted);">
                        <p>No tasks found</p>
                    </div>
                </div>
            </div>

        </section>

        <!-- Add Task Modal -->
        <div id="addTaskModal" class="popup-overlay hidden">
            <div class="popup-content">
                <div class="popup-header">
                    <h3 class="popup-title">Add New Task</h3>
                    <button class="popup-close" id="btnCloseAddTask">&times;</button>
                </div>
                <div class="popup-body">
                    <form id="addTaskForm">
                        <div class="field">
                            <span>What is to be done?</span>
                            <input type="text" id="taskTitle" class="auth-input" placeholder="Enter Task Here" required>
                        </div>
                        <div class="field" style="margin-top:12px;">
                            <span>Note (Optional)</span>
                            <textarea id="taskNote" class="auth-input" placeholder="Enter Description" rows="1"
                                style="resize:none; font-family: inherit; height: 65px !important; min-height: 40px !important; padding: 10px;"></textarea>
                        </div>
                        <!-- Strict 55/45 Grid forced with minmax to ignore content size -->
                        <div
                            style="display:grid; grid-template-columns: minmax(0, 55fr) minmax(0, 45fr); gap:10px; margin-top:12px; width: 100%; box-sizing: border-box;">
                            <!-- Date Field -->
                            <div class="field" style="position: relative; width: 100%; min-width: 0;">
                                <span>Date</span>
                                <div id="dateInputWrapper" class="custom-input-box" style="position: relative;">
                                    <input type="text" id="taskDate" placeholder="Select Date" readonly
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; background: transparent; border: none; color: var(--text); font-size: 12.5px; font-weight: 500; font-family: inherit; padding: 0 30px 0 10px; text-align: center; outline: none; cursor: pointer; user-select: none;">
                                    <span class="input-icon"
                                        style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); z-index: 1;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#8B5CF6"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                            <line x1="16" y1="2" x2="16" y2="6"></line>
                                            <line x1="8" y1="2" x2="8" y2="6"></line>
                                            <line x1="3" y1="10" x2="21" y2="10"></line>
                                        </svg>
                                    </span>
                                </div>
                                <!-- Custom Date Picker Dropdown -->
                                <div id="customDatePicker" class="custom-datepicker hidden">
                                    <div class="datepicker-header">
                                        <button type="button" class="datepicker-nav-btn" id="prevMonthBtn">
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <polyline points="15 18 9 12 15 6"></polyline>
                                            </svg>
                                        </button>
                                        <div class="datepicker-month-label" id="pickerMonthYear"></div>
                                        <button type="button" class="datepicker-nav-btn" id="nextMonthBtn">
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <polyline points="9 18 15 12 9 6"></polyline>
                                            </svg>
                                        </button>
                                    </div>
                                    <div class="datepicker-calendar">
                                        <div class="datepicker-week-row">
                                            <div>S</div>
                                            <div>S</div>
                                            <div>M</div>
                                            <div>T</div>
                                            <div>W</div>
                                            <div>T</div>
                                            <div>F</div>
                                        </div>
                                        <div id="pickerDaysGrid" class="datepicker-days-grid"></div>
                                    </div>
                                </div>
                            </div>
                            <!-- Time Field -->
                            <div class="field" style="width: 100%; min-width: 0; position: relative;">
                                <span>Time</span>
                                <div id="timeInputWrapper" class="custom-input-box" style="position: relative;">
                                    <input type="text" id="taskTime" placeholder="Select Time" readonly
                                        style="cursor: pointer; caret-color: transparent; background: transparent; border: none; flex: 1; min-width: 0; color: var(--text); font-size: 12.5px; font-weight: 500; font-family: inherit; padding: 0; text-align: center; outline: none; user-select: none;">
                                    <span class="input-icon">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#D946EF"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <polyline points="12 6 12 12 16 14"></polyline>
                                        </svg>
                                    </span>
                                </div>
                                <!-- Custom Time Picker Dropdown -->
                                <div id="customTimePicker" class="custom-timepicker hidden">
                                    <div class="timepicker-body">
                                        <!-- Hours -->
                                        <div class="timepicker-column" id="timeHours">
                                            <!-- JS populated -->
                                        </div>
                                        <div class="timepicker-divider">:</div>
                                        <!-- Minutes -->
                                        <div class="timepicker-column" id="timeMinutes">
                                            <!-- JS populated -->
                                        </div>
                                        <!-- AM/PM -->
                                        <div class="timepicker-ampm">
                                            <div class="timepicker-item-ampm selected" data-value="AM">AM</div>
                                            <div class="timepicker-item-ampm" data-value="PM">PM</div>
                                        </div>
                                    </div>
                                    <div class="timepicker-footer">
                                        <button type="button" class="timepicker-btn" id="timeSetBtn">Done</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="field control" style="margin-top:12px;">
                            <span>Repeat</span>
                            <div class="custom-dropdown" id="taskRepeatDropdown">
                                <button type="button" class="custom-dropdown-button" id="taskRepeatButton">
                                    <span id="taskRepeatValue">Once</span>
                                </button>
                                <div class="custom-dropdown-menu hidden" id="taskRepeatMenu">
                                    <div class="custom-dropdown-item" data-value="once">Once</div>
                                    <div class="custom-dropdown-item" data-value="daily">Daily</div>
                                </div>
                            </div>
                            <input type="hidden" id="taskRepeat" value="once">
                        </div>

                        <button type="submit" class="todo-btn" style="width:100%; margin-top:20px;">Add Task</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Schedio Screen -->
        <!-- Schedio Screen -->
        <section id="schedio" class="screen hidden">
            <header class="main-header">
                <div class="header-content information-header-content">
                    <button class="icon-btn information-back-btn" id="schedioBackBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                    </button>
                    <div style="display: flex; align-items: center; gap: 12px; flex: 1;">
                        <div class="header-title">Schedio</div>
                    </div>
                    <!-- Modern FAB-style Add Button for CR (Hidden by default) -->
                    <button id="schedioAddBtn" class="icon-btn hidden schedio-fab-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                </div>
            </header>

            <div class="content screen-narrow-content-small">
                <!-- Schedio List Container -->
                <div id="schedioContainer" class="schedio-list" style="padding-top: 10px; padding-bottom: 20px;">
                    <!-- Items injected by JS -->
                </div>
                <!-- Empty State (Moving to absolute center) -->
                <div class="empty-state" id="schedioEmptyState"
                    style="position: fixed; top: 50%; left: 0; width: 100%; transform: translateY(-50%); display: none; flex-direction: column; justify-content: center; align-items: center; color: var(--muted); pointer-events: none;">
                    <p style="margin: 0; font-weight: 500;">No upcoming schedules</p>
                </div>
            </div>
        </section>

        <!-- Schedio Add Modal (CR Only) -->
        <div id="schedioAddModal" class="popup-overlay hidden">
            <div class="popup-content">
                <div class="popup-header">
                    <h3 class="popup-title">Add Schedule</h3>
                    <button class="popup-close" id="schedioAddClose">&times;</button>
                </div>
                <div class="popup-body">
                    <form id="schedioAddForm">
                        <div class="field">
                            <span>Type</span>
                            <div class="custom-dropdown" id="schedioTypeDropdown">
                                <button type="button" class="custom-dropdown-button" id="schedioTypeBtn">Select
                                    Type</button>
                                <div class="custom-dropdown-menu hidden" id="schedioTypeMenu">
                                    <div class="custom-dropdown-item" data-value="Class Test">Class Test</div>
                                    <div class="custom-dropdown-item" data-value="Lab Test">Lab Test</div>
                                    <div class="custom-dropdown-item" data-value="Assignment">Assignment</div>
                                    <div class="custom-dropdown-item" data-value="Extra Class">Extra Class</div>
                                    <div class="custom-dropdown-item" data-value="Presentation">Presentation</div>
                                    <div class="custom-dropdown-item" data-value="Quiz">Quiz</div>
                                    <div class="custom-dropdown-item" data-value="Other">Other</div>
                                </div>
                            </div>
                            <input type="hidden" id="schedioType">
                            <input type="hidden" id="schedioEditId">
                        </div>

                        <div class="field" style="margin-top: 12px;">
                            <span>Subject</span>
                            <input type="text" id="schedioSubject" class="auth-input" placeholder="e.g. Subject name"
                                required>
                        </div>

                        <div class="field" style="margin-top: 12px;">
                            <span>Room No</span>
                            <input type="text" id="schedioRoom" class="auth-input" placeholder="e.g. 402">
                        </div>

                        <div
                            style="display:grid; grid-template-columns: minmax(0, 55fr) minmax(0, 45fr); gap:10px; margin-top:12px; width: 100%; box-sizing: border-box;">
                            <!-- Date Field -->
                            <div class="field" style="position: relative; width: 100%; min-width: 0;">
                                <span>Date</span>
                                <div id="schedioDateInputWrapper" class="custom-input-box" style="position: relative;">
                                    <input type="text" id="schedioDate" placeholder="Select Date" readonly
                                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; background: transparent; border: none; color: var(--text); font-size: 12.5px; font-weight: 500; font-family: inherit; padding: 0 30px 0 10px; text-align: center; outline: none; cursor: pointer; user-select: none;">
                                    <span class="input-icon"
                                        style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); z-index: 1;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#8B5CF6"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                            <line x1="16" y1="2" x2="16" y2="6"></line>
                                            <line x1="8" y1="2" x2="8" y2="6"></line>
                                            <line x1="3" y1="10" x2="21" y2="10"></line>
                                        </svg>
                                    </span>
                                </div>
                                <!-- Custom Date Picker Dropdown -->
                                <div id="schedioCustomDatePicker" class="custom-datepicker hidden">
                                    <div class="datepicker-header">
                                        <button type="button" class="datepicker-nav-btn" id="schedioPrevMonthBtn">
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <polyline points="15 18 9 12 15 6"></polyline>
                                            </svg>
                                        </button>
                                        <div class="datepicker-month-label" id="schedioPickerMonthYear"></div>
                                        <button type="button" class="datepicker-nav-btn" id="schedioNextMonthBtn">
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <polyline points="9 18 15 12 9 6"></polyline>
                                            </svg>
                                        </button>
                                    </div>
                                    <div class="datepicker-calendar">
                                        <div class="datepicker-week-row">
                                            <div>S</div>
                                            <div>S</div>
                                            <div>M</div>
                                            <div>T</div>
                                            <div>W</div>
                                            <div>T</div>
                                            <div>F</div>
                                        </div>
                                        <div id="schedioPickerDaysGrid" class="datepicker-days-grid"></div>
                                    </div>
                                </div>
                            </div>
                            <!-- Time Field -->
                            <div class="field" style="width: 100%; min-width: 0; position: relative;">
                                <span>Time</span>
                                <div id="schedioTimeInputWrapper" class="custom-input-box" style="position: relative;">
                                    <input type="text" id="schedioTime" placeholder="Select Time" readonly
                                        style="cursor: pointer; caret-color: transparent; background: transparent; border: none; flex: 1; min-width: 0; color: var(--text); font-size: 12.5px; font-weight: 500; font-family: inherit; padding: 0; text-align: center; outline: none; user-select: none;">
                                    <span class="input-icon">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#D946EF"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <polyline points="12 6 12 12 16 14"></polyline>
                                        </svg>
                                    </span>
                                </div>
                                <!-- Custom Time Picker Dropdown -->
                                <div id="schedioCustomTimePicker" class="custom-timepicker hidden">
                                    <div class="timepicker-body">
                                        <!-- Hours -->
                                        <div class="timepicker-column" id="schedioTimeHours">
                                            <!-- JS populated -->
                                        </div>
                                        <div class="timepicker-divider">:</div>
                                        <!-- Minutes -->
                                        <div class="timepicker-column" id="schedioTimeMinutes">
                                            <!-- JS populated -->
                                        </div>
                                        <!-- AM/PM -->
                                        <div class="timepicker-ampm">
                                            <div class="timepicker-item-ampm selected" data-value="AM">AM</div>
                                            <div class="timepicker-item-ampm" data-value="PM">PM</div>
                                        </div>
                                    </div>
                                    <div class="timepicker-footer">
                                        <button type="button" class="timepicker-btn"
                                            id="schedioTimeSetBtn">Done</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="field" style="margin-top: 12px;">
                            <span>Short Note / Description</span>
                            <textarea id="schedioNote" class="auth-input" placeholder="Topics, Syllabus, etc..."
                                rows="3" required style="resize: vertical; min-height: 80px;"></textarea>
                        </div>

                        <button type="submit" class="primary-btn" style="width: 100%; margin-top: 20px;">Upload
                            Schedule</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Schedio Overview Modal (Glass) -->
        <div id="schedioOverviewModal" class="glass-modal-overlay">
            <div class="glass-modal-content">
                <div class="glass-header">
                    <div class="glass-date-badge" id="overviewDateBadge">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        <span id="overviewDate">Oct 24, 2024</span>
                    </div>
                    <button class="glass-close" id="overviewCloseBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>

                <span class="glass-tag" id="overviewTag">Assignment</span>
                <div class="glass-title" id="overviewSubject">Electrical Circuits</div>

                <div class="glass-info-grid">
                    <div class="glass-info-item">
                        <div class="glass-label">Time</div>
                        <div class="glass-value">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            <span id="overviewTime">12:00 PM</span>
                        </div>
                    </div>
                    <div class="glass-info-item">
                        <div class="glass-label">Room</div>
                        <div class="glass-value">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <span id="overviewRoom">402</span>
                        </div>
                    </div>
                </div>

                <div class="glass-label">Description</div>
                <div class="glass-description" id="overviewNote">
                    No description provided.
                </div>

                <div class="glass-actions hidden" id="overviewActions">
                    <button class="glass-btn glass-btn-edit" id="overviewEditBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        Edit
                    </button>
                    <button class="glass-btn glass-btn-delete" id="overviewDeleteBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                        </svg>
                        Delete
                    </button>
                </div>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js" crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
        <!-- Instant Lottie animation loader - runs immediately after Lottie library loads -->
        <script>
            (function () {
                // Function to start landing animation instantly
                function startLandingAnimation() {
                    if (!window.lottie || typeof window.lottie.loadAnimation !== 'function') return;
                    const lottieContainer = document.getElementById('lottie');
                    if (!lottieContainer || lottieContainer.querySelector('svg')) return; // Already loaded

                    // Use cached animation data if available (instant load)
                    if (window.__landingAnimationData) {
                        try {
                            window.lottie.loadAnimation({
                                container: lottieContainer,
                                renderer: 'svg',
                                loop: true,
                                autoplay: true,
                                animationData: window.__landingAnimationData
                            });
                            return;
                        } catch (e) { }
                    }

                    // Fallback: try localStorage cache
                    try {
                        const cached = localStorage.getItem('cse.landingAnimationData');
                        const cachedVersion = localStorage.getItem('cse.landingAnimationData.version');
                        if (cached && cachedVersion === '1') {
                            const animationData = JSON.parse(cached);
                            window.__landingAnimationData = animationData;
                            window.lottie.loadAnimation({
                                container: lottieContainer,
                                renderer: 'svg',
                                loop: true,
                                autoplay: true,
                                animationData: animationData
                            });
                            return;
                        }
                    } catch (e) { }

                    // Final fallback: use path
                    try {
                        window.lottie.loadAnimation({
                            container: lottieContainer,
                            renderer: 'svg',
                            loop: true,
                            autoplay: true,
                            path: 'animation_file/loading.json'
                        });
                    } catch (e) { }
                }

                // Try to start immediately if Lottie is already loaded
                if (window.lottie && typeof window.lottie.loadAnimation === 'function') {
                    startLandingAnimation();
                } else {
                    // Wait for Lottie to load
                    let checkCount = 0;
                    const checkInterval = setInterval(() => {
                        checkCount++;
                        if (window.lottie && typeof window.lottie.loadAnimation === 'function') {
                            startLandingAnimation();
                            clearInterval(checkInterval);
                        } else if (checkCount >= 50) {
                            clearInterval(checkInterval);
                        }
                    }, 50);
                }
            })();
        </script>
        <!-- Logout Confirmation Popup -->
        <div id="logoutConfirmPopup" class="custom-popup hidden">
            <div class="custom-popup-overlay"></div>
            <div class="custom-popup-content" style="max-width: 320px; text-align: center; padding: 24px;">
                <div class="icon-circle-large"
                    style="margin: 0 auto 16px auto; background: rgba(231, 76, 60, 0.1); color: #E74C3C;">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </div>
                <h3 style="font-size: 18px; font-weight: 600; color: var(--text); margin-bottom: 8px;">Logout?</h3>
                <p style="font-size: 14px; color: var(--muted); margin-bottom: 24px; line-height: 1.5;">
                    Are you sure you want to logout? You will need to sign in again.
                </p>
                <div style="display: flex; gap: 12px;">
                    <button id="logoutCancelBtn"
                        style="flex: 1; padding: 12px; border-radius: 12px; border: 1px solid var(--outline); background: transparent; color: var(--text); font-weight: 500; cursor: pointer;">
                        Cancel
                    </button>
                    <button id="logoutConfirmBtn"
                        style="flex: 1; padding: 12px; border-radius: 12px; border: none; background: #E74C3C; color: white; font-weight: 500; cursor: pointer; box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);">
                        Logout
                    </button>
                </div>
            </div>
        </div>


        <!-- Slot Access Denied Popup (Glass UI) -->
        <div id="slotAccessPopup" class="custom-popup hidden">
            <div class="custom-popup-overlay"></div>
            <div class="custom-popup-content" style="max-width: 300px; text-align: center; padding: 24px; 
                    background: rgba(30, 30, 30, 0.65); 
                    backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
                    border: 1px solid rgba(255, 255, 255, 0.08); 
                    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);">
                <div class="icon-circle-large"
                    style="margin: 0 auto 16px auto; background: rgba(255, 171, 0, 0.15); color: #FFAB00;">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                </div>
                <h3 style="font-size: 18px; font-weight: 600; color: var(--text); margin-bottom: 8px;">Access Restricted
                </h3>
                <p style="font-size: 14px; color: var(--muted); margin-bottom: 24px; line-height: 1.5;">
                    Slot booking is available for <br><b style="color: var(--text);">CR & Teachers</b> only.
                </p>
                <button id="slotAccessCloseBtn"
                    style="width: 100%; padding: 12px; border-radius: 12px; border: none; background: var(--accent); color: white; font-weight: 500; cursor: pointer; box-shadow: 0 4px 12px rgba(108, 99, 255, 0.3);">
                    Got it
                </button>
            </div>
        </div>

        <!-- Cancel Booking Confirmation Popup -->
        <div id="cancelBookingConfirmPopup" class="custom-popup hidden">
            <div class="custom-popup-overlay"></div>
            <div class="custom-popup-content" style="max-width: 300px; text-align: center; padding: 24px;">
                <div class="icon-circle-large"
                    style="margin: 0 auto 16px auto; background: rgba(231, 76, 60, 0.1); color: #E74C3C;">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="15" y1="9" x2="9" y2="15"></line>
                        <line x1="9" y1="9" x2="15" y2="15"></line>
                    </svg>
                </div>
                <h3 style="font-size: 18px; font-weight: 600; color: var(--text); margin-bottom: 8px;">Cancel Booking?
                </h3>
                <p style="font-size: 14px; color: var(--muted); margin-bottom: 24px; line-height: 1.5;">
                    Are you sure you want to cancel this booking request? This action cannot be undone.
                </p>
                <div style="display: flex; gap: 12px;">
                    <button id="cancelBookingNoBtn"
                        style="flex: 1; padding: 12px; border-radius: 12px; border: 1px solid var(--outline); background: transparent; color: var(--text); font-weight: 500; cursor: pointer;">
                        No, Keep
                    </button>
                    <button id="cancelBookingYesBtn"
                        style="flex: 1; padding: 12px; border-radius: 12px; border: none; background: #E74C3C; color: white; font-weight: 500; cursor: pointer; box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);">
                        Yes, Cancel
                    </button>
                </div>
            </div>
        </div>

        <!-- Teacher Contact Popup -->
        <div id="teacherContactPopup" class="popup-overlay hidden">
            <div class="popup-content">
                <div class="popup-header">
                    <h3 id="teacherContactTitle" class="popup-title"></h3>
                    <button class="popup-close" id="teacherContactClose">&times;</button>
                </div>
                <div class="popup-body">
                    <div class="contact-info-item">
                        <span class="contact-label">Designation:</span>
                        <span id="teacherContactDesignation" class="contact-value">â€”</span>
                    </div>
                    <div class="contact-info-item">
                        <span class="contact-label">Phone:</span>
                        <span id="teacherContactPhone" class="contact-value">â€”</span>
                    </div>
                    <div class="contact-info-item">
                        <span class="contact-label">Email:</span>
                        <span id="teacherContactEmail" class="contact-value">â€”</span>
                    </div>
                    <div class="contact-info-item">
                        <span class="contact-label">Department:</span>
                        <span id="teacherContactDepartment" class="contact-value">â€”</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Task Overview Modal -->
        <div id="taskOverviewModal" class="popup-overlay hidden">
            <div class="popup-content">
                <div class="popup-header">
                    <h3 class="popup-title">Task Details</h3>
                    <button class="popup-close"
                        onclick="document.getElementById('taskOverviewModal').classList.remove('showing'); setTimeout(() => document.getElementById('taskOverviewModal').classList.add('hidden'), 200);">&times;</button>
                </div>
                <div class="popup-body">
                    <div style="margin-bottom: 20px;">
                        <div id="taskOverviewTitle"
                            style="font-size: 18px; font-weight: 600; color: var(--text); margin-bottom: 12px; line-height: 1.4;">
                            Task Title</div>
                        <div id="taskOverviewNote"
                            style="font-size: 14px; color: var(--muted); line-height: 1.6; white-space: pre-wrap;">
                        </div>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; border-top: 1px solid var(--outline); padding-top: 16px;">
                        <div>
                            <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Date</div>
                            <div id="taskOverviewDate" style="font-size: 14px; color: var(--text); font-weight: 500;">
                            </div>
                        </div>
                        <div>
                            <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Time</div>
                            <div id="taskOverviewTime" style="font-size: 14px; color: var(--text); font-weight: 500;">
                            </div>
                        </div>
                    </div>

                    <div id="taskOverviewRepeatSection" style="margin-top: 16px; display: none;">
                        <div style="font-size: 11px; color: var(--muted); margin-bottom: 4px;">Repeat</div>
                        <div id="taskOverviewRepeat" style="font-size: 14px; color: var(--accent); font-weight: 500;">
                        </div>
                    </div>

                    <!-- Buttons removed as per request -->
                </div>
            </div>
        </div>

        <!-- Firebase Scripts -->
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

        <!-- App Scripts -->
        <script type="module" src="js/config.js"></script>
        <script type="module" src="js/state.js"></script>
        <script type="module" src="js/utils.js"></script>
        <script type="module" src="app.js?v=20260120B"></script>
        <!-- Settings Modal -->
        <div id="settingsModal" class="popup-overlay hidden">
            <div class="popup-content">
                <div class="popup-header">
                    <h3 class="popup-title">App Settings</h3>
                    <button class="popup-close" id="settingsModalClose">&times;</button>
                </div>
                <div class="popup-body">
                    <!-- Appearance Section -->
                    <div style="margin-bottom: 24px;">
                        <h4
                            style="margin: 0 0 16px 0; font-size: 12px; font-weight: 600; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px;">
                            Appearance</h4>

                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg); border: 1px solid var(--outline); border-radius: 12px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div
                                    style="width: 36px; height: 36px; border-radius: 10px; background: var(--card); border: 1px solid var(--outline); display: flex; align-items: center; justify-content: center; color: var(--text);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-size: 15px; font-weight: 600; color: var(--text);">Dark Mode</div>
                                    <div style="font-size: 12px; color: var(--muted); margin-top: 2px;">Use dark theme
                                    </div>
                                </div>
                            </div>
                            <!-- Switch Toggle -->
                            <label class="switch">
                                <input type="checkbox" id="darkModeToggle" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>

                    <!-- Data Section -->
                    <div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 16px;">
                            <h4
                                style="margin: 0; font-size: 12px; font-weight: 600; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px;">
                                Data & Storage</h4>
                            <div style="font-size: 10px; color: var(--muted);">
                                Last: <span id="lastSelectionDate">--</span>
                            </div>
                        </div>

                        <div
                            style="background: rgba(231, 76, 60, 0.08); border: 1px solid rgba(231, 76, 60, 0.2); border-radius: 12px; padding: 16px; display: flex; align-items: center; justify-content: space-between;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div
                                    style="width: 36px; height: 36px; border-radius: 10px; background: rgba(231, 76, 60, 0.1); border: 1px solid rgba(231, 76, 60, 0.2); display: flex; align-items: center; justify-content: center; color: #E74C3C;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path
                                            d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                        </path>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-size: 15px; font-weight: 600; color: #E74C3C;">Clear All</div>
                                    <div style="font-size: 12px; color: var(--muted); margin-top: 2px;">For Clear
                                        selections</div>
                                </div>
                            </div>
                            <button id="clearCacheBtn" class="clear-cache-btn">
                                Clear
                            </button>
                        </div>
                    </div>

                    <div style="margin-top: 32px; text-align: center; font-size: 11px; color: var(--muted);">
                        <span id="settingsAppVersionDisplay">App Version 2.1.0 â€¢ Build 2026.01.27</span>
                    </div>
                </div>
            </div>
        </div>
</body>

</html>